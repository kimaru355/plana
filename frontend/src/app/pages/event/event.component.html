<section class="bg-white1 px-2 py-4 w-full" *ngIf="event">
  <div class="gap-4 grid grid-cols-2 w-full">
    <div class="w-full h-[50vh]">
      <img
        [src]="currentImageUrl"
        alt="{{ event.title }} image"
        class="rounded-xl w-full h-full object-cover"
      />
    </div>
    <div class="gap-2 grid grid-cols-2 grid-rows-2 w-full max-h-[50vh]">
      <div *ngFor="let imageUrl of event1.imagesUrl" class="w-full h-full">
        <img
          src="{{ imageUrl }}"
          (click)="currentImageUrl = imageUrl"
          alt="{{ event.title }} image"
          class="rounded-xl w-full h-full cursor-pointer object-cover"
        />
      </div>
    </div>
  </div>
  <div class="flex gap-2 px-8 pt-4">
    <div class="space-y-4">
      <div>
        <h2 class="font-bold text-2xl">{{ event.title }}</h2>
        <p>
          {{ event.location }},
          <span class="font-semibold">{{ event.city }}</span
          >, {{ event.country }}
        </p>
        <p>
          From:
          {{ event.startTime | date : "mediumDate" }}
          {{ event.startTime | date : "shortTime" }}
        </p>
        <p>
          To:
          {{ event.endTime | date : "mediumDate" }}
          {{ event.endTime | date : "shortTime" }}
        </p>
      </div>
      <div>
        <h3 class="font-semibold text-xl">Event Description</h3>
        <p>{{ event.description }}</p>
      </div>
    </div>
    <div class="flex flex-col gap-2 bg-white p-4 min-w-96 xl:min-w-[30rem]">
      <h2 class="font-semibold text-2xl">Secure your seat</h2>
      <select
        name="ticketType"
        id="ticketType"
        class="border-2 border-gray-300 p-2 rounded-lg"
        [(ngModel)]="selectedTicketId"
        (change)="onTicketChange()"
      >
        <option *ngFor="let ticket of event1.tickets" [value]="ticket.id">
          {{ ticket.type }} - Ksh. {{ ticket.price }}
        </option>
      </select>
      <div class="flex flex-col gap-2">
        <p>Ticket Type: {{ selectedTicket.type }}</p>
        <p>Ticket price: Ksh. {{ selectedTicket.price }}</p>
        <p>Tickets available: {{ selectedTicket.quantity }}</p>
        <div class="flex justify-center items-center w-full">
          <div class="flex gap-2 shadow-lg p-1">
            <button
              type="button"
              class="flex justify-center items-center bg-red-400 rounded-lg w-10 h-10"
              (click)="decrement()"
            >
              <img src="/icons/minus.png" alt="subtract button" />
            </button>
            <p class="font-semibold text-2xl">{{ numberOfTickets }}</p>
            <button
              type="button"
              class="flex justify-center items-center bg-green-400 rounded-lg w-10 h-10"
              (click)="increment()"
            >
              <img src="/icons/add.png" alt="add button" />
            </button>
          </div>
        </div>
        <p>Total Price: {{ numberOfTickets * selectedTicket.price }}</p>
        <button
          class="bg-blue px-12 py-4 rounded-3xl text-white"
          routerLink="/{{ token ? 'reservations' : 'login' }}"
        >
          Reserve Now
        </button>
      </div>
    </div>
  </div>
</section>
